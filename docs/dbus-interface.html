<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Chapter 1. DBUS Interface</title><link rel="stylesheet" href="docbook.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="GNOME Power Manager 2.16.0 Documentation"><link rel="up" href="index.html" title="GNOME Power Manager 2.16.0 Documentation"><link rel="prev" href="index.html" title="GNOME Power Manager 2.16.0 Documentation"><link rel="next" href="icon-scheme.html" title="Chapter 2. Icon Naming Scheme"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 1. DBUS Interface</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="index.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="icon-scheme.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="dbus-interface"></a>Chapter 1. DBUS Interface</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="dbus-interface.html#pm-intro">Introduction</a></span></dt><dt><span class="sect1"><a href="dbus-interface.html#pm-Compatibility">Compatibility</a></span></dt><dt><span class="sect1"><a href="dbus-interface.html#pm-methods">Methods</a></span></dt><dd><dl><dt><span class="sect2"><a href="dbus-interface.html#pm-method-Suspend">
        <code class="literal">Suspend</code>
      </a></span></dt><dt><span class="sect2"><a href="dbus-interface.html#pm-method-Hibernate">
        <code class="literal">Hibernate</code>
      </a></span></dt><dt><span class="sect2"><a href="dbus-interface.html#pm-method-Shutdown">
        <code class="literal">Shutdown</code>
      </a></span></dt><dt><span class="sect2"><a href="dbus-interface.html#pm-method-Reboot">
        <code class="literal">Reboot</code>
      </a></span></dt><dt><span class="sect2"><a href="dbus-interface.html#pm-method-AllowedSuspend">
        <code class="literal">AllowedSuspend</code>
      </a></span></dt><dt><span class="sect2"><a href="dbus-interface.html#pm-method-AllowedHibernate">
        <code class="literal">AllowedHibernate</code>
      </a></span></dt><dt><span class="sect2"><a href="dbus-interface.html#pm-method-AllowedShutdown">
        <code class="literal">AllowedShutdown</code>
      </a></span></dt><dt><span class="sect2"><a href="dbus-interface.html#pm-method-AllowedReboot">
        <code class="literal">AllowedReboot</code>
      </a></span></dt><dt><span class="sect2"><a href="dbus-interface.html#pm-method-SetDpmsMode">
        <code class="literal">SetDpmsMode</code>
      </a></span></dt><dt><span class="sect2"><a href="dbus-interface.html#pm-method-GetDpmsMode">
        <code class="literal">GetDpmsMode</code>
      </a></span></dt><dt><span class="sect2"><a href="dbus-interface.html#pm-method-Inhibit">
        <code class="literal">Inhibit</code>
      </a></span></dt><dt><span class="sect2"><a href="dbus-interface.html#pm-method-UnInhibit">
        <code class="literal">UnInhibit</code>
      </a></span></dt><dt><span class="sect2"><a href="dbus-interface.html#pm-method-GetOnAc">
        <code class="literal">GetOnAc</code>
      </a></span></dt><dt><span class="sect2"><a href="dbus-interface.html#pm-method-GetLowPowerMode">
        <code class="literal">GetLowPowerMode</code>
      </a></span></dt></dl></dd><dt><span class="sect1"><a href="dbus-interface.html#pm-signals">Signals</a></span></dt><dd><dl><dt><span class="sect2"><a href="dbus-interface.html#pm-signal-DpmsModeChanged">
        <code class="literal">DpmsModeChanged</code>
      </a></span></dt><dt><span class="sect2"><a href="dbus-interface.html#pm-signal-OnAcChanged">
        <code class="literal">OnAcChanged</code>
      </a></span></dt></dl></dd></dl></div><p>
    This API is currently unstable and is likely to change in the future.
  </p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="pm-intro"></a>Introduction</h2></div></div></div><p>
      Power Manager exposes a DBUS API for programs to obtain information about
      the DPMS state and to change it if required.
    </p><p>
      The following constants are used to uniquely refer to the PowerManager
      object when making DBUS method calls:
    </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td>DBUS Service:</td><td><code class="literal">org.gnome.PowerManager</code></td></tr><tr><td>DBUS Object Path:</td><td><code class="literal">/org/gnome/PowerManager</code></td></tr><tr><td>DBUS Interface:</td><td><code class="literal">org.gnome.PowerManager</code></td></tr></tbody></table></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="pm-Compatibility"></a>Compatibility</h2></div></div></div><p>
      Since gnome-power-manager version 2.14.x the API has changed in the
      following way:
    </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>2.14.x method name</th><th>2.15.x method name</th></tr></thead><tbody><tr><td><code class="literal">CanSuspend</code></td><td><code class="literal">AllowedSuspend</code></td></tr><tr><td><code class="literal">CanHibernate</code></td><td><code class="literal">AllowedHibernate</code></td></tr><tr><td><code class="literal">InhibitInactiveSleep</code></td><td><code class="literal">Inhibit</code></td></tr><tr><td><code class="literal">AllowInactiveSleep</code></td><td><code class="literal">UnInhibit</code></td></tr><tr><td><code class="literal">getOnAc</code></td><td><code class="literal">GetOnAc</code></td></tr><tr><td><code class="literal">getDpmsMode</code></td><td><code class="literal">GetDpmsMode</code></td></tr><tr><td><code class="literal">setDpmsMode</code></td><td><code class="literal">SetDpmsMode</code></td></tr><tr><td><code class="literal">(none)</code></td><td><code class="literal">Reboot</code></td></tr><tr><td><code class="literal">(none)</code></td><td><code class="literal">AllowedShutdown</code></td></tr><tr><td><code class="literal">(none)</code></td><td><code class="literal">AllowedReboot</code></td></tr><tr><td><code class="literal">(none)</code></td><td><code class="literal">GetLowPowerMode</code></td></tr></tbody></table></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="pm-methods"></a>Methods</h2></div></div></div><p>
      These are the DBUS methods.
    </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="pm-method-Suspend"></a>
        <code class="literal">Suspend</code>
      </h3></div></div></div><p>
        This call will attempt to suspend the system.
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Direction</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>out</td><td>boolean</td><td>Success value</td></tr></tbody></table></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="pm-method-Hibernate"></a>
        <code class="literal">Hibernate</code>
      </h3></div></div></div><p>
        This call will attempt to hibernate the system.
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Direction</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>out</td><td>boolean</td><td>Success value</td></tr></tbody></table></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="pm-method-Shutdown"></a>
        <code class="literal">Shutdown</code>
      </h3></div></div></div><p>
        This call will attempt to shutdown the system.
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Direction</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>out</td><td>boolean</td><td>Success value</td></tr></tbody></table></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="pm-method-Reboot"></a>
        <code class="literal">Reboot</code>
      </h3></div></div></div><p>
        This call will attempt to reboot the system.
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Direction</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>out</td><td>boolean</td><td>Success value</td></tr></tbody></table></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="pm-method-AllowedSuspend"></a>
        <code class="literal">AllowedSuspend</code>
      </h3></div></div></div><p>
        If the current user in the session is able to suspend, and has
        permission to do so.
        This may fail if the admin has locked down the session.
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Direction</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>out</td><td>boolean</td><td>If we are able to suspend</td></tr></tbody></table></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="pm-method-AllowedHibernate"></a>
        <code class="literal">AllowedHibernate</code>
      </h3></div></div></div><p>
        If the current user in the session is able to hibernate, and has
        permission to do so.
        This may fail if the admin has locked down the session.
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Direction</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>out</td><td>boolean</td><td>If we are able to hibernate</td></tr></tbody></table></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="pm-method-AllowedShutdown"></a>
        <code class="literal">AllowedShutdown</code>
      </h3></div></div></div><p>
        If the current user in the session is able to shutdown, and has
        permission to do so.
        This may fail if the admin has locked down the session.
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Direction</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>out</td><td>boolean</td><td>If we are able to shutdown</td></tr></tbody></table></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="pm-method-AllowedReboot"></a>
        <code class="literal">AllowedReboot</code>
      </h3></div></div></div><p>
        If the current user in the session is able to reboot, and has
        permission to do so.
        This may fail if the admin has locked down the session.
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Direction</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>out</td><td>boolean</td><td>If we are able to reboot</td></tr></tbody></table></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="pm-method-SetDpmsMode"></a>
        <code class="literal">SetDpmsMode</code>
      </h3></div></div></div><p>
        DPMS is a standard from the VESA consortium for managing the power
        supply of monitors.
	This call requests a change in the state of DPMS for the current screen.
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Direction</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>in</td><td>string</td><td> </td></tr><tr><td> </td><td>on</td><td>100% power usage</td></tr><tr><td> </td><td>standby</td><td>&lt;80% power usage</td></tr><tr><td> </td><td>suspend</td><td>&lt;30W power usage</td></tr><tr><td> </td><td>off</td><td>&lt;8W power usage</td></tr></tbody></table></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="pm-method-GetDpmsMode"></a>
        <code class="literal">GetDpmsMode</code>
      </h3></div></div></div><p>
        Returns the DPMS mode state.
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Direction</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>out</td><td>string</td><td> </td></tr><tr><td> </td><td>on</td><td>100% power usage</td></tr><tr><td> </td><td>standby</td><td>&lt;80% power usage</td></tr><tr><td> </td><td>suspend</td><td>&lt;30W power usage</td></tr><tr><td> </td><td>off</td><td>&lt;8W power usage</td></tr></tbody></table></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="pm-method-Inhibit"></a>
        <code class="literal">Inhibit</code>
      </h3></div></div></div><p>
        Inhibits the computer from performing the idle sleep action.
        Useful if you want to do an operation of long duration without the
        computer suspending.
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Direction</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>in</td><td>string</td><td>the application name, e.g. "nautilus"</td></tr><tr><td>in</td><td>string</td><td>the localised reason to inhibit, e.g. "indexing files"</td></tr><tr><td>out</td><td>unsigned integer</td><td>the cookie</td></tr></tbody></table></div><p>
        A cookie is a random UINT32 used to identify the inhibit.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="pm-method-UnInhibit"></a>
        <code class="literal">UnInhibit</code>
      </h3></div></div></div><p>
        Allows the computer to perform the idle sleep action.
        Applications that quit without calling this method will be
        automatically unregistered, but this is not recommended as the user
        may be warned.
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Direction</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>in</td><td>unsigned integer</td><td>the cookie</td></tr></tbody></table></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="pm-method-GetOnAc"></a>
        <code class="literal">GetOnAc</code>
      </h3></div></div></div><p>
        Finds out if the computer is on AC power, i.e. is not running on primary
        battery or UPS power.
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Direction</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>out</td><td>boolean</td><td>If we are on AC power</td></tr></tbody></table></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="pm-method-GetLowPowerMode"></a>
        <code class="literal">GetLowPowerMode</code>
      </h3></div></div></div><p>
        Finds out if the applications should use a low power mode, i.e. when this
        is true, applications should not re-index or do non-essential activity.
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Direction</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>out</td><td>boolean</td><td>If we should use a low power mode</td></tr></tbody></table></div></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="pm-signals"></a>Signals</h2></div></div></div><p>
      These are the DBUS signals.
    </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="pm-signal-DpmsModeChanged"></a>
        <code class="literal">DpmsModeChanged</code>
      </h3></div></div></div><p>
        Signals the value of the current DPMS state.
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Direction</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>out</td><td>string</td><td> </td></tr><tr><td> </td><td>on</td><td>100% power usage</td></tr><tr><td> </td><td>standby</td><td>&lt;80% power usage</td></tr><tr><td> </td><td>suspend</td><td>&lt;30W power usage</td></tr><tr><td> </td><td>off</td><td>&lt;8W power usage</td></tr></tbody></table></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="pm-signal-OnAcChanged"></a>
        <code class="literal">OnAcChanged</code>
      </h3></div></div></div><p>
        Signals the new AC power state.
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Direction</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>out</td><td>bool</td><td>The new AC power state</td></tr></tbody></table></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="index.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="icon-scheme.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">GNOME Power Manager 2.16.0 Documentation </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 2. Icon Naming Scheme</td></tr></table></div></body></html>
