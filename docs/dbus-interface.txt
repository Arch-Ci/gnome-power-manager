The GNOME Power Manager DBUS API
------------------------------

This API is currently unstable and is likely to change in the future.

GNOME Power Manager exposes a DBUS API for programs to obtain
information about the DPMS state and to change it if required.

The following constants are used to uniquely refer to the
PowerManager object when making DBUS method calls:

DBUS Service:		"org.gnome.PowerManager"
DBUS Object Path:	"/org/gnome/PowerManager"
DBUS Interface:		"org.gnome.PowerManager"

Methods
=======

	Name:		Suspend
	Args:		(none)
	Returns:	DBUS_TYPE_BOOL
	Description:	This call will attempt to suspend the system.

	Name:		Hibernate
	Args:		(none)
	Returns:	DBUS_TYPE_BOOL
	Description:	This call will attempt to hibernate the system.

	Name:		Shutdown
	Args:		(none)
	Returns:	DBUS_TYPE_BOOL
	Description:	This call will attempt to shutdown the system.

	Name:		CanSuspend
	Args:		(none)
	Returns:	DBUS_TYPE_BOOL
	Description:	This call Finds if the current user in the session
			is able to suspend, and has permission to do so.

	Name:		CanHibernate
	Args:		(none)
	Returns:	DBUS_TYPE_BOOL
	Description:	This call Finds if the current user in the session
			is able to hibernate, and has permission to do so.

	Name:		setDpmsMode
	Args:		DBUS_TYPE_STRING
			value:	on		100%
				standby		<80%
				suspend		<30W
				off		<8W
	Returns:	(nothing)
	Description:	DPMS is a standard from the VESA consortium for
			managing the power supply of monitors.
			This call requests a change in the state of DPMS for
			the current screen.

	Name:		getDpmsMode
	Args:		(none)
	Returns:	DBUS_TYPE_STRING
	Descriptions:	Returns the DPMS mode state.
			See setDpmsMode().

	Name:		InhibitInactiveSleep
	Args:		DBUS_TYPE_STRING "reason to inhibit"
	Returns:	(none)
	Descriptions:	Inhibits the computer from performing the idle sleep
			action. Useful if you want to do an operation of long 
			duration without the computer suspending.

	Name:		AllowInactiveSleep
	Args:		(none)
	Returns:	(none)
	Descriptions:	Allows the computer to perform the idle sleep action.
			Applications that quit without calling this method will
			be automatically unregistered.

Signals
=======

	Name:		DpmsModeChanged
	Args:		DBUS_TYPE_BOOLEAN state
	Returns:	Returns the value of the current state of activity.
	Description:	See method setDpmsMode().

Examples
========

You can get the DPMS mode by running the following:

dbus-send --session \
	  --dest=org.gnome.PowerManager \
	  --type=method_call \
	  --print-reply \
	  --reply-timeout=2000 \
	  /org/gnome/PowerManager \
	  org.gnome.PowerManager.getDpmsMode

You can set the DPMS mode by running the following:

dbus-send --session \
	  --dest=org.gnome.PowerManager \
	  --type=method_call \
	  --print-reply \
	  --reply-timeout=2000 \
	  /org/gnome/PowerManager \
	  org.gnome.PowerManager.setDpmsMode \
	  string:suspend

You can put the system into hibernation using the following:

dbus-send --session \
	  --dest=org.gnome.PowerManager \
	  --type=method_call \
	  --print-reply \
	  --reply-timeout=2000 \
	  /org/gnome/PowerManager \
	  org.gnome.PowerManager.Hibernate
